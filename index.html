<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
  <script defer src="scripts.js"></script>
  <title>Tier List</title>
</head>

<body>
  <div id="controls">
    <span>Tier List</span>
    <button type="button" onclick="addTier()">Add Tier</button>
    <button type="button" onclick="importDialogElement.showModal()">Import</button>
    <button type="button" onclick="exportList()">Export JSON</button>
  </div>
  <div class="list-wrapper" id="list"></div>
  <div class="unsorted-area" id="unsorted"></div>
  <dialog id="importDialog">
    <form style="display: flex; flex-direction: column;">
      <textarea id="importInput" placeholder="Paste json here..." rows="20" cols="80"></textarea>
      <div>
        <button type="button" onclick="importItems(importInputElement.value)">Import Items</button>
        <button type="button" onclick="importList(importInputElement.value)">Import List</button>
      </div>
    </form>
  </dialog>
</body>

</html>

<template id="tierRowTemplate">
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />

  <div id="buttons"
    style="position: absolute; margin: 3px; margin-top: 8px; cursor: pointer; display: flex; flex-direction: column;">
    <span id="editButton" class="material-symbols-outlined">edit_square</span>
    <span class="material-symbols-outlined" id="handle" title="Drag to re-order">drag_handle</span>
  </div>

  <div class="tier-head" id="head">
  </div>
  <div class="tier-row" id="row">
    <slot></slot>
  </div>
  <dialog id="editDialog">
    <form class="edit-row-form">
      <label for="editName">Name:</label>
      <input type="text" id="editName" autofocus />
      <label for="editColor">Color:</label>
      <input type="color" id="editColor" />
    </form>
    <span id="closeDialog" class="material-symbols-outlined"
      style="position: absolute; top: 0; right: 0; cursor: pointer;">close</span>
  </dialog>
</template>